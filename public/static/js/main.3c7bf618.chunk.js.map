{"version":3,"sources":["components/Header.js","StateContext.js","UpdateContext.js","components/Posts.js","components/Map.js","components/LoginSignup.js","components/Sidebar.js","components/CreatePost.js","components/Home.js","components/FlashMessage.js","App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","to","StateContext","createContext","UpdateContext","Posts","appState","useContext","dispatch","useState","comment","updateComment","useRef","filterTag","setFilterTag","posts","setPosts","page","setPage","postbox","postsCount","setPostsCount","getPosts","a","Axios","post","latitude","currLocation","longitude","tag","response","console","table","data","log","getPostsCount","length","useEffect","location","handleComment","e","preventDefault","userID","user","postID","target","dataset","content","value","type","error","handlePageChange","pageElement","i","parseInt","push","onClick","data-page","href","flashMessage","style","position","right","bottom","data-toggle","map","thistag","index","id","date","Date","createdAt","formattedDate","getDate","getMonth","getFullYear","ref","data-target","src","isAnonymous","avatar","title","author","comments","allowPost","data-post","onSubmit","onChange","autoFocus","name","placeholder","autoComplete","Map","width","height","zoom","viewport","setViewport","navigator","geolocation","getCurrentPosition","pos","coords","onDblClick","evt","lngLat","doubleClickZoom","mapStyle","onViewportChange","mapboxApiAccessToken","process","xmlns","fill","class","viewBox","d","LoginSignup","accountStatus","setAccountStatus","firstinput","username","setUsername","email","setEmail","password","setPassword","current","focus","handleLogin","toggleAccountStatus","marginTop","withRouter","color","aria-hidden","updateTitle","updateContent","setTag","setIsAnonymous","history","htmlFor","checked","Home","loggedIn","exact","path","FlashMessage","msg","defaults","baseURL","App","initial","localStorage","getItem","Boolean","useImmerReducer","draft","action","state","setItem","removeItem","p","Math","PI","cos","dist","asin","sqrt","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3c7bf618.chunk.js","sourcesContent":["import React from 'react'\nimport Alert from 'react-bootstrap/Alert'\nimport { Link } from 'react-router-dom'\n\nfunction Header(props) {\n  return (\n    <header className='header-bar mt-1'>\n      <h4 className='my-0 mr-md-auto font-weight-bold text-center'>\n        <Link to='/' className='text-white text-center'>\n          Humap\n        </Link>\n      </h4>\n    </header>\n  )\n}\n\nexport default Header\n","import { createContext } from \"react\";\r\n\r\nconst StateContext = createContext();\r\n\r\nexport default StateContext;\r\n","import { createContext } from 'react'\r\n\r\nconst UpdateContext = createContext()\r\n\r\nexport default UpdateContext\r\n","import React, { useContext, useEffect, useRef, useState } from 'react'\nimport Axios from 'axios'\nimport StateContext from '../StateContext'\nimport UpdateContext from '../UpdateContext'\n\nfunction Posts(props) {\n  const appState = useContext(StateContext)\n  const dispatch = useContext(UpdateContext)\n  const tags = ['All', 'Help Wanted', 'Announcement', 'Emergency', 'Complaint', 'Bored At Home', 'Looking For Alikes', 'Confessions', 'Recommendations', 'Miscellaneous']\n  const [comment, updateComment] = useState()\n  const commentbar = useRef(null)\n\n  const [filterTag, setFilterTag] = useState('All')\n  const [posts, setPosts] = useState([])\n  const [page, setPage] = useState(1)\n  const postbox = useRef(null)\n  const [postsCount, setPostsCount] = useState(0)\n\n  async function getPosts() {\n    try {\n      const response = await Axios.post(`/get-posts?limit=3&page=${page}`, {\n        latitude: appState.currLocation[1],\n        longitude: appState.currLocation[0],\n        tag: filterTag,\n      })\n      console.table(response.data)\n      setPosts(response.data)\n    } catch (e) {\n      console.log('error getting posts', e.response.data)\n    }\n  }\n  async function getPostsCount() {\n    try {\n      const response = await Axios.post('/get-posts-length', {\n        latitude: appState.currLocation[1],\n        longitude: appState.currLocation[0],\n        tag: filterTag,\n      })\n      setPostsCount(response.data.length)\n    } catch (e) {\n      console.log('error getting post count', e.response.data)\n    }\n  }\n\n  useEffect(() => {\n    getPosts()\n  }, [page])\n\n  useEffect(() => {\n    getPosts()\n    getPostsCount()\n  }, [filterTag])\n\n  useEffect(() => {\n    if (appState.currLocation != appState.location) {\n      getPosts()\n      getPostsCount()\n    }\n    // dispatch({ type: 'flashMessage', value: 'hello' })\n  }, [appState.currLocation])\n\n  const handleComment = async e => {\n    e.preventDefault()\n    try {\n      await Axios.post('/create-comment', {\n        userID: appState.user.userID,\n        postID: e.target.dataset.post,\n        content: comment,\n      })\n      updateComment('')\n      e.target.value = ''\n      console.log('comment created')\n      getPosts()\n      // console.log(commentbar.current.dataset.post)\n    } catch (error) {\n      dispatch({ type: 'flashMessage', value: error.response.data.error })\n      console.log(e.target.dataset.post)\n      console.log('ERROR commenting', error.response.data)\n      // console.log('ERROR commenting')\n    }\n    // console.log(commentbar.current.dataset)\n    // console.log(comment)\n    // console.log(appState.user)\n  }\n\n  async function handlePageChange(e) {\n    setPage(e.target.dataset.page)\n\n    // console.log(e.target.dataset.page)\n  }\n  const pageElement = []\n  for (let i = 1; i <= parseInt(postsCount / 3) + 1; i++) {\n    pageElement.push(\n      <li onClick={handlePageChange} data-page={i} key={i} className='page-item'>\n        <a data-page={i} className='page-link' href='#'>\n          {i}\n        </a>\n      </li>\n    )\n  }\n\n  return (\n    <>\n      <div className='container container--narrow py-md-4'>\n        <h2 onClick={() => console.log(appState.flashMessage)} className='text-center text-white'>\n          ACTIVITY NEAR YOU\n        </h2>{' '}\n        <div className='dropdown'>\n          <button style={{position: 'absolute', right: 0, bottom: '5px'}} type='button' className='btn btn-primary dropdown-toggle' data-toggle='dropdown'>\n            Filter with tags\n          </button>\n          <div className='dropdown-menu'>\n            {tags.map((thistag, index) => {\n              return (\n                <a onClick={() => setFilterTag(thistag)} className={'dropdown-item' + (filterTag == thistag ? ' active' : '')} href='#' key={index}>\n                  {thistag}\n                </a>\n              )\n            })}\n          </div>\n        </div>{' '}\n      </div>\n\n      {/* POSTS */}\n      <div className='ml-2 list-group list-group-flush' id='postscontainer'>\n        {posts.map((post, index) => {\n          const date = new Date(post.createdAt)\n          const formattedDate = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`\n          return (\n            <div key={index}>\n              <a\n                href='#'\n                ref={postbox}\n                // onClick={() => console.log(postbox.current.dataset)}\n                data-toggle='collapse'\n                data-target={'#id' + post.postID}\n                className='list-group-item post rounded'\n              >\n                <img className='avatar-tiny' src={post.isAnonymous ? 'https://st4.depositphotos.com/1000507/24488/v/600/depositphotos_244889634-stock-illustration-user-profile-picture-isolate-background.jpg' : post.avatar} />\n                <strong className='text-white'>{post.title}</strong>{' '}\n                <strong className='text-white-50'>\n                  by {post.isAnonymous ? 'anonymous' : post.author} on {formattedDate}{' '}\n                </strong>\n                <span className='tag'>{post.tag}</span>\n                <div className='body-content'> {post.content} </div>\n                <span className='badge badge-primary badge-pill align-items-center'>\n                  <i className='fas fa-comment'></i> {post.comments.length}\n                </span>\n              </a>\n\n              {/* comment */}\n              <div id={'id' + post.postID} className='list-group collapse'>\n                {post.comments.map((comment, index) => (\n                  <div key={index}>\n                    <div className='list-group-item comment rounded'>\n                      <strong>{comment.author}</strong>\n                      {'  '}\n                      {comment.content}\n                    </div>\n                  </div>\n                ))}\n                {appState.allowPost && (\n                  <div className='list-group-item comment rounded '>\n                    <form data-post={post.postID} onSubmit={handleComment}>\n                      <input\n                        // ref={commentbar}\n                        data-post={post.postID}\n                        // onChange={e => updateComment(commentbar.current.value)}\n                        onChange={e => updateComment(e.target.value)}\n                        autoFocus\n                        name='title'\n                        id='commentInput'\n                        type='text'\n                        placeholder='Comment'\n                        autoComplete='off'\n                      />\n                      <input type='submit' name='' value='Comment' href='#'></input>\n                    </form>\n                  </div>\n                )}\n              </div>\n            </div>\n          )\n        })}\n      </div>\n\n      {/* Paginate */}\n      <div>\n        <ul className='pagination justify-content-center'>\n          <li className='page-item'>\n            <a className='page-link' href='#'>\n              Previous\n            </a>\n          </li>\n          {pageElement}\n          <li className='page-item'>\n            <a className='page-link' href='#'>\n              Next\n            </a>\n          </li>\n        </ul>\n      </div>\n    </>\n  )\n}\n\nexport default Posts\n","import React, { useState, useEffect, useContext } from 'react'\nimport ReactMapGL, { Marker } from 'react-map-gl'\nimport StateContext from '../StateContext'\nimport UpdateContext from '../UpdateContext'\nimport 'mapbox-gl/dist/mapbox-gl.css'\n\nfunction Map(props) {\n  const appState = useContext(StateContext)\n  const dispatch = useContext(UpdateContext)\n  const [viewport, setViewport] = useState({\n    longitude: 79.08886,\n    latitude: 21.146633,\n    width: '33vw',\n    height: '90vh',\n    zoom: 15,\n  })\n\n  // const [posts, setPosts] = useState([]);\n  // should call fetch passing the currLocation to get posts\n  // in useEffect and pass currLocation as a dependancy\n\n  // If location perms is given to website\n  useEffect(() => {\n    if ('geolocation' in navigator)\n      navigator.geolocation.getCurrentPosition(pos => {\n        dispatch({ type: 'setLocation', value: [pos.coords.longitude, pos.coords.latitude] })\n        dispatch({ type: 'setCurrLocation', value: [pos.coords.longitude, pos.coords.latitude] })\n        setViewport({\n          longitude: pos.coords.longitude,\n          latitude: pos.coords.latitude,\n          width: '100%',\n          height: '90vh',\n          zoom: 15,\n        })\n      })\n    // console.log(appState)\n  }, [])\n\n  const handleDblClick = evt => {\n    dispatch({ type: 'setCurrLocation', value: evt.lngLat })\n\n    console.table(appState)\n    // setCurrLocation(evt.lngLat)\n  }\n  return (\n    <div>\n      <ReactMapGL className='mt-1 mr-9 map' {...viewport} onDblClick={handleDblClick} doubleClickZoom={false} mapStyle={'mapbox://styles/dna5769/ckn4km6x31sob17nzox3gjzdz'} onViewportChange={viewport => setViewport(viewport)} mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_API_ACCESS_TOKEN}>\n        <Marker latitude={appState.currLocation[1]} longitude={appState.currLocation[0]}>\n          <svg xmlns='http://www.w3.org/2000/svg' width='30' height='30' fill='currentColor' class='bi bi-cursor' viewBox='0 0 16 16'>\n            <path d='M14.082 2.182a.5.5 0 0 1 .103.557L8.528 15.467a.5.5 0 0 1-.917-.007L5.57 10.694.803 8.652a.5.5 0 0 1-.006-.916l12.728-5.657a.5.5 0 0 1 .556.103zM2.25 8.184l3.897 1.67a.5.5 0 0 1 .262.263l1.67 3.897L12.743 3.52 2.25 8.184z' />\n          </svg>\n        </Marker>\n        {/* We can display the locations of the nearby posts\n            as well here */}\n      </ReactMapGL>\n    </div>\n  )\n}\n\nexport default Map\n","import React, { useContext, useEffect, useRef, useState } from 'react'\nimport UpdateContext from '../UpdateContext'\nimport StateContext from '../StateContext'\nimport Axios from 'axios'\n\nfunction LoginSignup(props) {\n  const dispatch = useContext(UpdateContext)\n  const appState = useContext(StateContext)\n  const [accountStatus, setAccountStatus] = useState(false)\n  const firstinput = useRef(null)\n\n  const [username, setUsername] = useState()\n  const [email, setEmail] = useState()\n  const [password, setPassword] = useState()\n\n  async function handleSignup(e) {\n    e.preventDefault()\n    // console.log(e.target) //(this) waala method use for vanilla js only, here use e.target\n    try {\n      await Axios.post('/create-user', {\n        name: username,\n        password,\n        email,\n      })\n      setAccountStatus(true)\n      dispatch({ type: 'flashMessage', value: 'You successfully created an account. Log in now.' })\n      console.log('successfully created account')\n    } catch (e) {\n      dispatch({ type: 'flashMessage', value: e.response.data.error })\n      console.log(e.response.data.error)\n    }\n  }\n\n  useEffect(() => {\n    // console.log(firstinput.current)\n    firstinput.current.focus()\n  }, [accountStatus])\n\n  const handleLogin = async e => {\n    e.preventDefault()\n    try {\n      const response = await Axios.post('/login-user', {\n        email,\n        password,\n      })\n      console.log(response)\n      dispatch({ type: 'Login', value: response.data })\n    } catch (e) {\n      dispatch({ type: 'flashMessage', value: e.response.data.error })\n      console.log(e.response.data.error)\n    }\n  }\n\n  function toggleAccountStatus() {\n    console.log({ username, password, email })\n    // accountStatus ? setAccountStatus(false) : setAccountStatus(true)\n    setAccountStatus(accountStatus => !accountStatus)\n  }\n  return (\n    <div>\n      {accountStatus ? (\n        <div className=''>\n          <form style={{marginTop: '50px'}} onSubmit={handleLogin} className='box'>\n            <h1>Login</h1>\n            <p className='text-muted'> Please enter your login and password!</p>\n            <input autoFocus ref={firstinput} onChange={e => setEmail(e.target.value)} type='text' name='' placeholder='E-mail'></input>\n            <input onChange={e => setPassword(e.target.value)} type='password' name='' placeholder='Password'></input>\n            <input type='submit' name='' value='Login'></input>\n            <a onClick={toggleAccountStatus} className='forgot text-muted' href='#'>\n              Don't have an account? Sign Up\n            </a>\n          </form>\n        </div>\n      ) : (\n        <div className=''>\n          <form style={{marginTop: '30px'}} onSubmit={handleSignup} className='box'>\n            <h1>Signup</h1>\n            <p className='text-muted'> Please enter your email, username and create a password!</p>\n            <input ref={firstinput} onChange={e => setEmail(e.target.value)} type='text' name='' placeholder='E-mail'></input>\n            <input onChange={e => setPassword(e.target.value)} type='password' name='' placeholder='Create password'></input>\n            <a type='text' name='' placeholder='E-mail'></a>\n            <input autoFocus onChange={e => setUsername(e.target.value)} type='text' name='' placeholder='Username'></input>\n            <input type='submit' name='' value='Signup'></input>\n            <a onClick={toggleAccountStatus} className='forgot text-muted' href='#'>\n              Already have an account? Log In\n            </a>\n          </form>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default LoginSignup\n","import React, { useContext } from 'react'\nimport { BrowserRouter, Link, withRouter } from 'react-router-dom'\nimport StateContext from '../StateContext'\nimport UpdateContext from '../UpdateContext'\n\nfunction Sidebar(props) {\n  const dispatch = useContext(UpdateContext)\n  const appState = useContext(StateContext)\n  return (\n    <div className='sticky-top'>\n      <div className='nav flex-column'>\n        <Link to={'/create-post'} className='nav-link'>\n          {/* <i className='fa fa-plus-circle plus' aria-hidden='true'></i> */}\n          <svg xmlns='http://www.w3.org/2000/svg' width='40' height='40' fill='#2ecc71' className='bi bi-plus-circle plus' viewBox='0 0 16 16'>\n            <path d='M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z' />\n            <path d='M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z' />\n          </svg>\n        </Link>\n\n        {/* <a href='#_' className='nav-link'>\n          Link\n        </a> */}\n        <Link to={'/'} className='nav-link'>\n          <img className='avatar-small' src={appState.user.avatar} />\n        </Link>\n        <a onClick={() => dispatch({ type: 'Logout' })} href='#_' className='nav-link'>\n          <i className='fa fa-sign-out-alt fa-lg pl-2' style={{ color: '#c62b28' }} aria-hidden='true'></i>\n        </a>\n      </div>\n    </div>\n  )\n}\n\nexport default withRouter(Sidebar)\n","import React, { useState, useEffect, useContext } from 'react'\nimport Axios from 'axios'\nimport { withRouter } from 'react-router-dom'\nimport UpdateContext from '../UpdateContext'\nimport StateContext from '../StateContext'\n\nfunction CreatePost(props) {\n  const [title, updateTitle] = useState()\n  const [content, updateContent] = useState()\n  const [tag, setTag] = useState()\n  const [isAnonymous, setIsAnonymous] = useState(false)\n  const tags = ['Help Wanted', 'Announcement', 'Emergency', 'Complaint', 'Bored At Home', 'Looking For Alikes', 'Confessions', 'Recommendations', 'Miscellaneous']\n  const dispatch = useContext(UpdateContext)\n  const appState = useContext(StateContext)\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n    try {\n      //using short url :) due to set baseURL\n      await Axios.post('/create-post', {\n        title,\n        content,\n        // latitude: 32,\n        latitude: appState.location[1],\n        // longitude: 33,\n        longitude: appState.location[0],\n        tag,\n        isAnonymous,\n        userID: appState.user.userID,\n      })\n      //redirecting to \"/post/someid\"\n      dispatch({ type: 'flashMessage', value: 'Congo, You created a post' })\n      props.history.push(`/`)\n      console.log('POST CREATED')\n      console.log({ title, content, tag, isAnonymous })\n    } catch (e) {\n      dispatch({ type: 'flashMessage', value: e.response.data.error })\n      console.log(e.response.data)\n    }\n  }\n  useEffect(() => {\n    console.log(tag)\n  }, [tag])\n\n  useEffect(() => {\n    if (!appState.allowPost) {\n      props.history.push('/')\n      dispatch({ type: 'flashMessage', value: 'Post not allowed outside zone' })\n    }\n  }, [appState.allowPost])\n  return (\n    <div className='d-flex h-100 justify-content-center align-items-center'>\n      <form className='createpost' onSubmit={handleSubmit}>\n        <div className='form-group'>\n          <label htmlFor='post-title' className='text-muted mb-1'>\n            <small>Title</small>\n          </label>\n          <input onChange={e => updateTitle(e.target.value)} autoFocus name='title' id='post-title' className='form-control-title' type='text' placeholder='' autoComplete='off' />\n          {/* {state.title.hasError && <div className=\"alert alert-danger liveValidateMessage small\">{state.title.message}</div>} */}\n        </div>\n        <div className='form-group'>\n          <label htmlFor='post-body' className='text-muted mb-1 d-block'>\n            <small>Body Content</small>\n          </label>\n          <textarea style={{ height: '20vh' }} onChange={e => updateContent(e.target.value)} name='body' id='post-body' className='body-content' type='text'></textarea>\n        </div>\n        <label class='form-check-label text-white'>\n          <input\n            onClick={e => {\n              setIsAnonymous(e.target.checked)\n              // console.log(e.target.checked)\n            }}\n            type='checkbox'\n            class='form-check-input'\n            value=''\n          ></input>\n          Do you want this posted Anonymously?\n        </label>\n        <div className='dropdown dropright '>\n          <button type='button' className='btn btn-primary dropdown-toggle' data-toggle='dropdown'>\n            Tag\n          </button>\n          <div className='dropdown-menu dropdown-menu-right tagmenu'>\n            {tags.map((thistag, index) => {\n              return (\n                <a onClick={() => setTag(thistag)} className={'dropdown-item' + (tag == thistag ? ' active' : '')} href='#' key={index}>\n                  {thistag}\n                </a>\n              )\n            })}\n          </div>\n        </div>\n        {/* <select className='form-select' aria-label='Default select example'>\n          <option>Select Tag</option>\n          {tags.map((tag, index) => {\n            return (\n              <option onClick={() => setTag(tag)} key={index}>\n                {tag}\n              </option>\n            )\n          })}\n        </select> */}\n        <div className='text-white-50 mb-2'>\n          <small>\n            Pro Tip: You can use the{' '}\n            <a target='_blank' href='https://www.markdownguide.org/cheat-sheet/'>\n              Markdown syntax\n            </a>{' '}\n            to format your body.\n          </small>\n        </div>\n        <button type='submit' className='btn btn-primary pt-2'>\n          Post\n        </button>\n      </form>\n    </div>\n  )\n}\n\nexport default withRouter(CreatePost) //gives access to this.props.history\n","import React, { useState, useEffect, useContext } from 'react'\nimport Posts from './Posts'\nimport Map from './Map'\nimport LoginSignup from './LoginSignup'\nimport StateContext from '../StateContext'\nimport UpdateContext from '../UpdateContext'\nimport Sidebar from './Sidebar'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport CreatePost from './CreatePost'\n\nfunction Home(props) {\n  const appState = useContext(StateContext)\n  const dispatch = useContext(UpdateContext)\n  useEffect(() => {\n    console.log(appState.loggedIn)\n  }, [])\n\n  return (\n    <>\n      <div className='container-fluid' id='Home'>\n        <div className='row'>\n          <div className='col-4'>\n            <Map />\n          </div>\n          <div className='col-7'>\n            <Switch>\n              <Route exact path='/'>\n                {appState.loggedIn ? <Posts /> : <LoginSignup />}\n              </Route>\n              <Route path='/create-post'>\n                <CreatePost />\n              </Route>\n            </Switch>\n          </div>\n          {appState.loggedIn && (\n            // <div className='container'>\n            <div className='d-flex align-items-center justify-content-end col-1' id='sidebar'>\n              {/* <div className=''></div> */}\n              <Sidebar />\n            </div>\n            // </div>\n          )}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Home\n","import React, { useEffect, useContext } from 'react'\nimport StateContext from '../StateContext'\n\nfunction FlashMessage(props) {\n  const appState = useContext(StateContext)\n  return (\n    <div className='floating-alerts'>\n      {appState.flashMessage.map((msg, index) => {\n        return (\n          <div key={index} className={'floating-alert text-centre alert shadow-sm alert-info'}>\n            {msg}\n          </div>\n        )\n      })}\n      {/* <div className={'floating-alert text-centre alert shadow-sm alert-success'}>qfeijeq</div>\n      <div className={'floating-alert text-centre alert shadow-sm alert-dark'}>qfeijeq222</div> */}\n    </div>\n  )\n}\n\nexport default FlashMessage\n","import React, { useEffect, useState } from 'react'\nimport './App.css'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport Header from './components/Header'\nimport Home from './components/Home'\nimport { useImmer, useImmerReducer } from 'use-immer'\nimport FlashMessage from './components/FlashMessage'\nimport StateContext from './StateContext'\nimport UpdateContext from './UpdateContext'\nimport { BrowserRouter } from 'react-router-dom'\nimport Axios from 'axios'\nAxios.defaults.baseURL = 'https://humap-app.herokuapp.com/api'\n\nconst App = props => {\n  const initial = {\n    user: {\n      name: localStorage.getItem('name'),\n      email: localStorage.getItem('email'),\n      avatar: localStorage.getItem('avatar'),\n      userID: localStorage.getItem('userID'),\n    },\n    flashMessage: [],\n    loggedIn: Boolean(localStorage.getItem('name')),\n    // loggedIn: localStorage.getItem('username'),\n    location: [79.08886, 21.146633],\n    currLocation: [79.08886, 21.146633],\n    allowPost: true,\n  }\n\n  const useReduce = (draft, action) => {\n    switch (action.type) {\n      case 'Login': {\n        draft.loggedIn = true\n        draft.user = action.value\n        return\n      }\n      case 'flashMessage': {\n        draft.flashMessage.push(action.value)\n        return\n      }\n      case 'Logout': {\n        draft.loggedIn = false\n        // props.history.push('/')\n        return\n      }\n      case 'setLocation': {\n        draft.location = action.value\n        return\n      }\n      case 'setCurrLocation': {\n        draft.currLocation = action.value\n        return\n      }\n      case 'setAllowPost': {\n        draft.allowPost = action.value\n        return\n      }\n    }\n  }\n  const [state, dispatch] = useImmerReducer(useReduce, initial)\n\n  useEffect(() => {\n    if (state.loggedIn) {\n      localStorage.setItem('email', state.user.email)\n      localStorage.setItem('avatar', state.user.avatar)\n      localStorage.setItem('name', state.user.name)\n      localStorage.setItem('userID', state.user.userID)\n    } else {\n      localStorage.removeItem('email')\n      localStorage.removeItem('avatar')\n      localStorage.removeItem('name')\n      localStorage.removeItem('userID')\n    }\n  }, [state.loggedIn])\n\n  useEffect(() => {\n    let p = Math.PI / 180\n    let a = 0.5 - Math.cos((state.currLocation[1] - state.location[1]) * p) / 2 + (Math.cos(state.location[1] * p) * Math.cos(state.currLocation[1] * p) * (1 - Math.cos((state.currLocation[0] - state.location[0]) * p))) / 2\n    let dist = 12742 * Math.asin(Math.sqrt(a))\n    dispatch({ type: 'setAllowPost', value: dist < 2 })\n    dist > 2 && dispatch({ type: 'flashMessage', value: 'You moved outside your zone, commenting/posting disabled now' })\n  }, [state.currLocation])\n\n  return (\n    <StateContext.Provider value={state}>\n      <UpdateContext.Provider value={dispatch}>\n        <BrowserRouter>\n          {/* Header component start */}\n          <FlashMessage />\n          {/* Header component end */}\n          <Header />\n          {/* Map component start */}\n          <Home />\n\n          {/* Map component end */}\n\n          {/* if (distance between location and currLocation is less than LIMIT) */}\n          {/* Create Post Component  */}\n\n          {/* Postslist component start */}\n          {/* Postlist component end */}\n        </BrowserRouter>\n      </UpdateContext.Provider>\n    </StateContext.Provider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport Header from './components/Header'\nimport reportWebVitals from './reportWebVitals'\nimport './index.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}